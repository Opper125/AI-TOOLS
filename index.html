<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mafia - Gaming Platform</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Message Popup -->
    <div id="messagePopup" class="message-popup">
        <div class="message-content">
            <span class="message-text"></span>
            <div class="message-timer"></div>
            <button class="message-close">‚ùé</button>
        </div>
    </div>

    <!-- Ban Overlay -->
    <div id="banOverlay" class="ban-overlay">
        <div class="ban-content">
            <div class="ban-icon">üö´</div>
            <h2>Account Banned</h2>
            <p id="banReason">Your account has been banned.</p>
            <p id="banTime">Ban Duration: Until further notice</p>
            <div class="ban-contact">
                <p>Contact admin for appeal:</p>
                <a href="#" id="banTelegramLink" target="_blank">
                    <i class="fab fa-telegram"></i> Contact Admin
                </a>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="mainContainer" class="main-container">
        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <img src="https://raw.githubusercontent.com/Opper125/AI-TOOLS/663b060262bdf9fb617d1b01d21597eb859e96c3/mafialogo.png" alt="Mafia Logo" class="logo">
            </div>
            <nav class="nav-menu" id="navMenu" style="display: none;">
                <button class="nav-btn active" data-page="home">
                    <i class="fas fa-home"></i> Home
                </button>
                <button class="nav-btn" data-page="news">
                    <i class="fas fa-newspaper"></i> News
                </button>
                <button class="nav-btn" data-page="history">
                    <i class="fas fa-history"></i> History
                </button>
                <button class="nav-btn" data-page="social">
                    <i class="fas fa-share-alt"></i> Social
                </button>
                <button class="nav-btn" data-page="profile">
                    <i class="fas fa-user"></i> Profile
                </button>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </nav>
        </header>

        <!-- Auth Section -->
        <section id="authSection" class="auth-section">
            <div class="auth-container">
                <div class="auth-toggle">
                    <button class="toggle-btn active" data-auth="signup">Sign Up</button>
                    <button class="toggle-btn" data-auth="login">Login</button>
                </div>

                <!-- Sign Up Form -->
                <div id="signupForm" class="auth-form active">
                    <h2>Create Your Account</h2>
                    <div class="form-group">
                        <input type="email" id="signupEmail" placeholder="Gmail Address" required>
                        <span class="error-message" id="emailError"></span>
                    </div>
                    <div class="form-group">
                        <input type="text" id="signupUsername" placeholder="Username (e.g., Opper123)" required>
                        <span class="error-message" id="usernameError"></span>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupPin" placeholder="PIN (min 6 digits)" required>
                        <span class="error-message" id="pinError"></span>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupRePin" placeholder="Confirm PIN" required>
                        <span class="error-message" id="repinError"></span>
                    </div>
                    <button type="submit" id="signupSubmit" class="auth-submit" disabled>Sign Up</button>
                </div>

                <!-- Login Form -->
                <div id="loginForm" class="auth-form">
                    <h2>Welcome Back</h2>
                    <div class="form-group">
                        <input type="text" id="loginEmailUsername" placeholder="Email or Username" required>
                        <span class="error-message" id="loginEmailError"></span>
                    </div>
                    <div class="form-group">
                        <input type="password" id="loginPin" placeholder="PIN" required>
                        <span class="error-message" id="loginPinError"></span>
                    </div>
                    <button type="submit" id="loginSubmit" class="auth-submit">Login</button>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboardSection" class="dashboard-section" style="display: none;">
            <!-- Home Page -->
            <div id="homePage" class="page active">
                <div class="page-header">
                    <h1>Gaming Store</h1>
                    <p>Choose your game and start shopping!</p>
                </div>
                <div class="game-categories">
                    <div class="category-card" data-category="pubg">
                        <div class="category-icon">üéÆ</div>
                        <h3>PUBG Mobile</h3>
                        <p>Accounts & UC Vouchers</p>
                    </div>
                    <div class="category-card" data-category="mlbb">
                        <div class="category-icon">‚öîÔ∏è</div>
                        <h3>Mobile Legends</h3>
                        <p>Accounts & Diamonds</p>
                    </div>
                    <div class="category-card" data-category="telegram">
                        <div class="category-icon">üì±</div>
                        <h3>Telegram Premium</h3>
                        <p>Premium & Stars</p>
                    </div>
                    <div class="category-card" data-category="all">
                        <div class="category-icon">üõçÔ∏è</div>
                        <h3>All Products</h3>
                        <p>Browse Everything</p>
                    </div>
                </div>

                <!-- Category Pages -->
                <div id="pubgPage" class="category-page">
                    <div class="category-nav">
                        <button class="back-btn" data-back="home">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <h2>PUBG Mobile</h2>
                    </div>
                    <div class="subcategory-grid">
                        <div class="subcategory-card" data-subcategory="pubg-account">
                            <div class="subcategory-icon">üë§</div>
                            <h3>PUBG Accounts</h3>
                        </div>
                        <div class="subcategory-card" data-subcategory="pubg-voucher">
                            <div class="subcategory-icon">üíé</div>
                            <h3>UC Vouchers</h3>
                        </div>
                    </div>
                </div>

                <div id="mlbbPage" class="category-page">
                    <div class="category-nav">
                        <button class="back-btn" data-back="home">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <h2>Mobile Legends</h2>
                    </div>
                    <div class="subcategory-grid">
                        <div class="subcategory-card" data-subcategory="mlbb-account">
                            <div class="subcategory-icon">üë§</div>
                            <h3>ML Accounts</h3>
                        </div>
                        <div class="subcategory-card" data-subcategory="mlbb-diamond">
                            <div class="subcategory-icon">üíé</div>
                            <h3>Diamonds</h3>
                        </div>
                    </div>
                </div>

                <div id="telegramPage" class="category-page">
                    <div class="category-nav">
                        <button class="back-btn" data-back="home">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <h2>Telegram Premium</h2>
                    </div>
                    <div id="telegramProducts" class="products-grid">
                        <!-- Products will be loaded here -->
                    </div>
                </div>

                <div id="allPage" class="category-page">
                    <div class="category-nav">
                        <button class="back-btn" data-back="home">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <h2>All Products</h2>
                    </div>
                    <div id="allProducts" class="products-grid">
                        <!-- All products will be loaded here -->
                    </div>
                </div>

                <!-- Product/Voucher Lists -->
                <div id="productsContainer" class="products-container">
                    <!-- Dynamic product listings -->
                </div>
            </div>

            <!-- News Page -->
            <div id="newsPage" class="page">
                <div class="page-header">
                    <h1>Latest News</h1>
                    <p>Stay updated with our latest announcements</p>
                </div>
                <div id="newsList" class="news-list">
                    <!-- News items will be loaded here -->
                </div>
            </div>

            <!-- History Page -->
            <div id="historyPage" class="page">
                <div class="page-header">
                    <h1>Order History</h1>
                    <p>Track your orders and purchases</p>
                </div>
                <div id="ordersList" class="orders-list">
                    <!-- Orders will be loaded here -->
                </div>
            </div>

            <!-- Social Media Page -->
            <div id="socialPage" class="page">
                <div class="page-header">
                    <h1>Social Media</h1>
                    <p>Follow us on social platforms</p>
                </div>
                <div id="socialList" class="social-list">
                    <!-- Social media links will be loaded here -->
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profilePage" class="page">
                <div class="page-header">
                    <h1>My Profile</h1>
                    <p>Manage your account settings</p>
                </div>
                <div class="profile-container">
                    <div class="profile-picture-section">
                        <div class="profile-picture">
                            <img id="profilePicture" src="" alt="Profile Picture">
                            <button class="change-picture-btn">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                        <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="profile-details">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="profileEmail" readonly>
                        </div>
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="profileUsername">
                        </div>
                        <div class="form-group">
                            <label>PIN</label>
                            <input type="password" id="profilePin">
                        </div>
                        <button id="updateProfileBtn" class="update-profile-btn">Update Profile</button>
                    </div>
                    <div class="about-section">
                        <button class="about-toggle" id="aboutToggle">
                            <i class="fas fa-info-circle"></i> About Us
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="aboutContent" class="about-content">
                            <!-- About content will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Purchase Modal -->
        <div id="purchaseModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Purchase Item</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="purchaseDetails" class="purchase-details">
                        <!-- Purchase form will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>